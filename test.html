<html>
 <head>
 </head>
 <body>
  <script src="https://www.puck-js.com/puck.js"></script>
  <button id="start-interval">Start interval</button>
  <button id="read-button-press">Read button press</button>
  
  <script>
   const startIntervalElement = document.getElementById("start-interval");
   startIntervalElement.addEventListener("click", () => {
     console.log("reset all");
     Puck.write("LED1.reset();\n");
     Puck.write("LED2.reset();\n");
     Puck.write("LED3.reset();\n");
    
     let i = 1;
     
     setInterval(() => {
      if (i > 1) {
       console.log("reset led index", i - 1);
        Puck.write("LED" + (i - 1) + ".reset();\n");
      }
      
      console.log("set led index", i);
      Puck.write("LED" + i + ".set();\n");
      
      i++;

      if (i > 3)
      {
       i = 1;
      }
     }, 1000);
   });
   
   const readButtonPressElement = document.getElementById("read-button-press");
   readButtonPressElement.addEventListener("click", () => {
    Puck.eval("BTN.read()", function(d) {
      console.log(d);
    });
   });
  </script>
 </body>
</html>
